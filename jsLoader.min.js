/*! jsLoader 05-03-2015 */
!function(a){var b,c=document,d=(function(){var a=c.getElementsByTagName("script"),d=a[a.length-1],e=d.src;return b=d.getAttribute("data-main"),e.substr(0,e.lastIndexOf("/"))}(),!1),e=function(a,b){for(var c,d,e={},f=0,g=b.length;g>f;f++)if(d=b[f],c=a.match(d.reg))return e.name=d.name,e["is"+d.name]=!0,e.version=parseInt(c[1]),e}(navigator.userAgent,[{name:"IE",reg:/MSIE\s*([\d\.]+;)/i},{name:"FireFox",reg:/Firefox\/(\d+)/i},{name:"Chrome",reg:/Chrome\/(\d+)/i}]),f={},g={},h={},i=[],j=([].slice,/^\s+|\s+$/g),k={foo:function(){},getFirstStyle:function(){var a,b,d,e,f=c.head;if(f.querySelectorAll)return f.querySelectorAll("link,style")[0];for(a=f.childNodes,b=a.length,d=0;b>d;d++)if(e=a[d],1==e.nodeType&&("LINK"===e.nodeName.toUpperCase()||"STYLE"===e.nodeName.toUpperCase()))return e},orderLoadStyle:function(a){for(var b,d,e,f,g,h,i=0,j=a.length,l=k.getFirstStyle(),m=c.head;j>i;i++)for(h=a[i],b=k.getManifeset(h).styleList,d=0,e=b.length;e>d;d++)g=b[d],g.href&&(f=c.createElement("link"),f.rel="stylesheet",f.type="text/css",f.href=g.href,m.insertBefore(f,l))},orderLoadModule:function(a,b,c){var d,e=0,h=a.length,i={};for(a=a.reverse(),c=c||[],b=b||k.foo;h>e;e++)d=a[e],f[d].url&&(b=function(a,b){return function(){g[a]?(i[a]=g[a],b(i,c)):k.loadJSFile(f[a].url,a,function(){var a=this.name;this.ready=!0,g[a]=k.getObjFromNS(a),i[a]=g[a],b(i,c)},function(){c.push({msg:"url of "+this.name+" is incorrect : "+this.src}),b(i,c)})}}(d,b));b(i,c)},asynLoadModule:function(a,b,c){for(var d,e,g=0,h=a.length;h>g;g++)d=a[g],(e=f[d].url)&&k.asynInsertJS(e,d);k.parseCJS(b,c)},asynInsertJS:function(a,b){var d=c.createElement("script");return d.type="text/cjs",d.name=b,d.src=a,c.head.appendChild(d),d},parseCJS:function(a,b){{var d,e,f=c.getElementsByTagName("script"),g=f.length,h={},i=0,j=0;(new Date).getTime()}for(d=0;g>d;d++)e=f[d],"text/cjs"===e.type&&(i+=1,k.loadJSFile(e.src,e.name,function(){j+=1;var a=this.name;h[a]=k.getObjFromNS(a)},function(){j+=1,b.push({msg:"url of "+this.name+" is incorrect : "+this.src})},e));k.defer(function(){return j==i},function(){a&&a(h,b)})},defer:function(a,b,c){var d="function"==typeof a?a():a;c=c||50,setTimeout(function(){d===!0?b&&b():k.defer(a,b,c)},c)},trim:function(a){return null==a?"":a.trim?a.trim():a.replace(j,"")},getManifeset:function(a){var b=h[a],c=0,d=i.length;if(b)return b;for(;d>c;c++)if(i[c].name===a){b=i[c],h[a]=b;break}return b},getDependModules:function(a,b){var c,d=k.getManifeset(a).depend,e=0,f=d.length;for(b=b||[];f>e;e++)c=i[d[e]],b.indexOf(c.name)<0&&(c.depend.length&&(b=k.getDependModules(c.name,b)),b.push(c.name));return b},loadJSFile:function(a,b,d,e,f){var g=c.createElement("script");return g.name=b,g.readyState?g.onreadystatechange=function(){("loaded"===g.readyState||"complete"===g.readyState)&&(g.onreadystatechange=null,d&&d.call(g))}:(g.onload=d,g.onerror=e),g.type="text/javascript",g.src=a,f?f.parentNode.replaceChild(g,f):c.head.appendChild(g),g},getObjFromNS:function(b,c){for(var d,e=f[b].name_space,g=f[b].module,h=e.split("."),i=0,j=h.length,k=c||a;j>i;i++)if(d=h[i],""!==d){if(null==k[d])break;k=k[d]}return k[g]},calculateDependence:function(a){a=a||[];for(var b,c,e=[],f=0,g=a.length;g>f;f++)c=a[f],b=k.getManifeset(c),b?e.push(b.index):d=!0;return e},loadModule:function(a,b,c){var d,e=a.split(","),g=0,h=e.length,i=[],j=[];for("boolean"==typeof b&&(c=b,b=k.foo);h>g;g++)d=k.trim(e[g]),f[d]?(i=i.concat(k.getDependModules(d)),i.push(d)):j.push({msg:"module "+d+" is not exist in configuration"});k.orderLoadStyle(i),c?k.asynLoadModule(i,b,j):k.orderLoadModule(i,b,j)},addModules:function(a,b){var c,e,f;if("string"==typeof a)k.addModule(a,b);else for(a=a||[],c=0,e=a.length;e>c;c++){b=a[c];for(f in b){k.addModule(f,b[f]);break}}d&&k.refreshDependConfig()},refreshDependConfig:function(){var a,b,c,e,f=i;for(a=0,b=f.length;b>a;a++)c=f[a],e=c.require,e.length&&(c.depend=k.calculateDependence(e));d=!1},addModule:function(a,b){f[a]={url:b.url,name_space:b.name_space||"window",module:b.module||"window"};var c=k.getManifeset(a),d={name:a,index:i.length,depend:k.calculateDependence(b.require),styleList:b.styleList||[],require:b.require||[]};c?(d.index=c.index,i[c.index]=d,k.clearCache(a)):i.push(d)},clearCache:function(a){a?(h[a]=null,g[a]=null):(h={},g={})},mainMethod:function(){b&&k.loadJSFile(b)}};e.isIE&&e.version<9&&(c.head=c.getElementsByTagName("head")[0],Array.prototype.indexOf=function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1}),a.PManager={load:k.loadModule,add:k.addModules},k.mainMethod()}(window);